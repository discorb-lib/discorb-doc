{"pageProps":{"path":"docs/tutorial.md","data":{"title":"Tutorial"},"content":"<!--\n# @title Tutorial\n-->\n\n# Tutorial\n\nWelcome to discorb! This lib allows you to create a discord bot with Ruby.\nLet's get started!\n\n## Requirements\n\n- Ruby 3.0.0+\n- Basic knowledge of ruby  \n    These documents will help you:\n    - [Ruby in Twenty Minutes](https://www.ruby-lang.org/en/documentation/quickstart/)\n    - [Ruby from other languages](https://www.ruby-lang.org/en/documentation/ruby-from-other-languages/)\n    - [Try ruby!](https://try.ruby-lang.org/)\n\n### Recommended\n\n- Good editor  \n    They are recommended:\n    - [VSCode](https://code.visualstudio.com/)\n    - [Atom](https://atom.io/)\n    - [Sublime Text](https://www.sublimetext.com/)\n    - [Brackets](https://brackets.io/)\n    - [Notepad++](https://notepad-plus-plus.org/)\n    - [Vim](https://www.vim.org/)\n- Git\n- Bundler\n\nOnce you have all of these, you can start coding!\n\n## Start creating your bot\n\n### Create a Bot account\n\nYou must have a bot account to use this lib. First, go to [Discord Developer Portal](https://discord.com/developers/applications) and click on `New Application`.  \n![](./assets/01_new_app.png)\n\nAnd then type a name for your bot, and click `Create`.  \n![](./assets/02_bot_name.png)\n\nYou will be redirected to the `General Information` page.\nThen, click `Bot` and then `Add Bot` and then `Yes, do it!`.  \n![](./assets/03_add_bot.png)\n\nYou will see bot information, and click `Copy` button in TOKEN section.  \n![](./assets/04_token_copy.png)\n\n**DO NOT SHARE THIS TOKEN, OR YOUR BOT BAN EVERYONE IN EVERY SERVER!**\nThis is serious security risk.\n\nClick `Regenerate` button to regenerate your token. Do this immediately when you accidentally share your token.\n\nYou did it! Now, you have a bot account.\n\n#### Invite your bot to a server\n\nGo to `OAuth2` page and scroll down, and check `bot` and `applications.commands` permissions.  \n![](./assets/05_oauth.png)\nThen, click `Copy` button and paste it to your browser.\nChoose a server you want to invite your bot to, and follow the instructions.\n\n### Code your bot\n\n#### Install gems\n\nOpen terminal and type:\n\n```\ngem install bundler discorb\n```\n\n#### Setup files\n\nCreate a new directory and go to it.\nOpen terminal and type:\n\n```\ndiscorb new\n```\n\nSpecify `--git` if you want to use git.\n\nYou will get some files in your directory.\n\n- `main.rb`: The main file of your bot.\n- `.env`: The environment variables of your bot. **You must keep this file secret!**\n- `Gemfile`: Gemfile for bundler.\n- `Gemfile.lock`: Gemfile.lock for bundler.\n\nYou will get other files if you specify `--git`.\n{file:docs/cli/init.md Learn more here}.\n\n#### Start your bot\n\nOpen `main.rb`, you will see the following code:\n\n```ruby\nrequire \"discorb\"\nrequire \"dotenv\"\n\nDotenv.load  # Loads .env file\n\nclient = Discorb::Client.new  # Create client for connecting to Discord\n\nclient.once :standby do\n  puts \"Logged in as #{client.user}\"  # Prints username of logged in user\nend\n\nclient.run ENV[\"TOKEN\"]  # Starts client\n```\n\nOpen `.env`, you will see:\n\n```\nTOKEN=Y0urB0tT0k3nHer3.Th1sT0ken.W0ntWorkB3c4useItH4sM34n1ng\n```\n\nReplace `Y0urB0tT0k3nHer3.Th1sT0ken.W0ntWorkB3c4useItH4sM34n1ng` with your bot token.\nRemember to keep this file secret!\n\nOpen terminal and type:\n\n```sh\nbundle exec ruby main.rb\n# or\nbundle exec discorb run main.rb\n```\n\nYay! Your bot is online!  \n![](./assets/06_online.png)\n\nBut your bot won't do anything.\nSo add your bot some greetings!\n`Ctrl + C` to stop your bot.\n\n#### Add a greeting\n\nYou can do some action on message by typing like this:\n\n```ruby\nclient.on :message do |message|\n  # ...\nend\n```\n\n`message` is a {Discorb::Message} object. It contains information about the message.\nYou can get the message content by {Discorb::Message#content}.\nAdd `if` statement, and reply to the message with {Discorb::Message#reply}.\n\n```ruby\nclient.on :message do |message|\n  if message.content.downcase.include? \"hello\"\n    message.reply \"Hello!\"\n  end\nend\n```\n\nSave your bot and restart it.\n\nYou can see your bot's response by typing `hello` in your server...  \n\n![](./assets/07_hello_infinite.png)\n\nOops! Your bot is responding to bot's messages, it's infinite!\n\nTerminate your bot by typing `Ctrl + C` in terminal.\n\n#### Ignore bot's messages\n\nYou can access author information by {Discorb::Message#author}, and it has {Discorb::User#bot?}.\nSo, you can ignore bot's messages by adding `if` statement:\n\n```ruby\nclient.on :message do |message|\n  next if message.author.bot?\n\n  # ...\nend\n```\n\nNote you must use `next` to exit the block.\n\nSave your bot and start it.\n\n![](./assets/08_hello_once.png)\n\nYou did it! Your bot won't respond to bot's messages anymore.\n\n## Finally\n\nThis is the end of tutorial.\n\nTo learn more, check out the [documentation](https://discorb-lib.github.io/).\nYou can also check out [Examples](docs/examples).\n"},"__N_SSG":true}